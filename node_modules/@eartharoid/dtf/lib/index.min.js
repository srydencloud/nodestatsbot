const regex=/\b(?=(YYYY|YY|MMMM|MMM|MM|M|DDDD|DDD|DD|D|HH|hh|h|mm|m|ss|s|SSS|ii|ampm|AMPM|n_YY|n_M|n_D|n_h|n_HH|n_m|n_s]))\1\b/g,nStr={1:"st",2:"nd",3:"rd",11:"th",12:"th",13:"th"},single=e=>0===e[0]?e.substring(1)-12:e,h12=e=>e>12?e-12:e,nth=e=>e+=nStr[e.toString().slice(-2)]||nStr[e.toString().slice(-1)]||"th",placeholders={YYYY:(e,t)=>e.toLocaleString(t,{year:"numeric"}),YY:(e,t)=>e.toLocaleString(t,{year:"2-digit"}),MMMM:(e,t)=>e.toLocaleString(t,{month:"long"}),MMM:(e,t)=>e.toLocaleString(t,{month:"short"}),MM:(e,t)=>e.toLocaleString(t,{month:"2-digit"}),M:(e,t)=>e.toLocaleString(t,{month:"numeric"}),DDDD:(e,t)=>e.toLocaleString(t,{weekday:"long"}),DDD:(e,t)=>e.toLocaleString(t,{weekday:"short"}),DD:e=>("0"+e.getDate()).slice(-2),D:e=>single(e.getDate()),HH:e=>e.getHours(),hh:e=>("0"+h12(e.getHours())).slice(-2),h:e=>single(h12(e.getHours())),mm:e=>("0"+e.getMinutes()).slice(-2),m:e=>single(e.getMinutes()),ss:e=>("0"+e.getSeconds()).slice(-2),s:e=>single(e.getSeconds()),SSS:e=>e.getMilliseconds(),ii:e=>e.getMilliseconds(),ampm:e=>e.getHours()>=12?"pm":"am",AMPM:e=>e.getHours()>=12?"PM":"AM",n_YY:e=>nth(parseInt(placeholders.YY(e))+1),n_M:e=>nth(parseInt(placeholders.M(e))),n_D:e=>nth(parseInt(placeholders.D(e))),n_HH:e=>nth(parseInt(placeholders.HH(e))),n_h:e=>nth(parseInt(placeholders.h(e))),n_m:e=>nth(parseInt(placeholders.m(e))),n_s:e=>nth(parseInt(placeholders.s(e)))};let dtf=(e,t,n)=>("string"!=typeof e&&(n=t,t=e,e="HH:mm:ss"),e.replace(regex,e=>placeholders[e](t&&"object"==typeof t?t:new Date,n||"en-GB")));const preset=(e,t,n,s)=>{"object"==typeof n&&"object"!=typeof t||(s=n,n=t),["full","long","medium","short"].includes(t)||(s=t,t="date"==e?"short":"medium");let o={};return o[e+"Style"]=t,(n&&"object"==typeof n?n:new Date).toLocaleString(s||"en-GB",o)};dtf.date=((e,t,n)=>preset("date",e,t,n)),dtf.time=((e,t,n)=>preset("time",e,t,n)),dtf.ampm=(e=>(e||new Date).getHours()>=12?"pm":"am"),dtf.AMPM=(e=>(e||new Date).getHours()>=12?"PM":"AM"),dtf.nth=nth,"undefined"!=typeof exports&&(module.exports=dtf);